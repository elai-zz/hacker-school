<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mocky by elai</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Mocky</h1>
        <p>A single parameter pattern matching library in JS</p>

        <p class="view"><a href="https://github.com/elai/mocky">View the Project on GitHub <small>elai/mocky</small></a></p>


        <ul>
          <li><a href="https://github.com/elai/mocky/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/elai/mocky/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/elai/mocky">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a name="this-is-mocky" class="anchor" href="#this-is-mocky"><span class="octicon octicon-link"></span></a>This is Mocky.</h3>

<p>Mocky is a small JavaScript library with no external dependencies. Mocky allows you to accomplish pattern matching found in functional programming languages such as ML, Haskell, Erlang, and OCaml in JavaScript. Currently, Mocky is capable of pattern matching with one parameter (see below examples). There are plans in the future to expand, or feel free to contribute. Mocky was tested using the Jasmine testing framework and draws inspiration from another library similar to Mocky, <a href="https://github.com/bramstein/funcy">Funcy</a>.</p>

<h3>
<a name="how-to-use" class="anchor" href="#how-to-use"><span class="octicon octicon-link"></span></a>How to use?</h3>

<p>Simply include mocky.js in your .html file. </p>

<h3>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h3>

<ul>
<li>Make a new Mocky object and load object with patterns. For <code>anObj</code> (below), if you call <code>anObj(2)</code>, you'll get <code>3</code>. If you call <code>anObj(3)</code>, you'll invoke the anonymous function that would call some function <code>foo()</code> and return <code>"b1"</code> as a result from <code>"b" + 1</code>.<br>
</li>
</ul><pre><code>var anObj = mocky(
    [2, 3], 
    [1, 2],
    [3, function() {
        a = foo();
        return "b" + 1}],
    ["apple", function (n) { return "I like " + n}],
        [["a","b","c"],1],
    [_, "wow!"]
);
</code></pre>

<ul>
<li>You can use Mocky to perform recursion.<br>
</li>
</ul><pre><code>var fact = mocky(
       [0, 1],
       [$, function(n) {return n * fact(n-1)}]
);

fact(3) // returns 6
</code></pre>

<ul>
<li>You can use a wildcard character and a param character depending on what you want to do. Like Funcy, Mocky allows you to define your own wildcard and param character. In the example, <code>_</code> and <code>$</code> were used, respectively. </li>
</ul><pre><code>var _ = mocky.any;
var $ = mocky.param;
</code></pre>

<p>To illustrate how these work, refer to the analogy below. If we have in Haskell (we shouldn't because the patterns overlap):</p>

<pre><code>foo _ = 1
foo n = n + 2
</code></pre>

<p>We would represent this in Mocky as such:</p>

<pre><code>var foo = mocky(
       [_, 1],
       [$, function(n) {return n+2;}]
);
</code></pre>

<p>But Mocky validates against having both a <code>mocky.any</code> and <code>mocky.param</code> in an instance and this would actually throw an error.</p>

<ul>
<li>You can also use Mocky to pattern match arrays. 

<ul>
<li>You can pattern match on exact array patterns. </li>
<li>You can use <code>mocky.any</code> to represent any amount of information if <strong>it is placed at the beginning and/or the end</strong>.</li>
<li>Likewise, a <code>mocky.param</code> at the beginning or end of the pattern represents any amount of information</li>
<li>On the other hand, any <code>mocky.any</code> or <code>mocky.param</code> in the middle of the array represents one element in the array.</li>
</ul>
</li>
</ul><pre><code>// matches exactly ["a","b","c","d"]
var pattern1 = [["a","b","c","d"], 55] 
</code></pre>

<pre><code>// matches an array of anything, but doesn't keep the content inside
var pattern2 = [[_], 55] 
</code></pre>

<pre><code>// matches an array of anything, and passes the content to function  
var pattern3 = [[$], function(n){}]
</code></pre>

<pre><code>// matches an array of anything, and passes the content to 6
// but since 6 isn't function, content is discarded
var pattern4 = [[$], 6]
</code></pre>

<pre><code>// matches to an array whose content begins with "a"
var pattern5 = [["a",_], 6] 
</code></pre>

<pre><code>// matches to an array whose content begins with "a"
// the array has at least 3 elements, the second param.any matches to 
// the second element only and the third param.any matches the rest
var pattern6 = [["a",_,_], 6] 
</code></pre>

<pre><code>// matches to an array of length 4 beginning with "a" 
// and ending with "c"
var pattern7 =  [["a",_,_,"c"], 6]
</code></pre>

<pre><code>// matches to an array of length at least 4 beginning with anything
// followed by "b", an anything and ending with "c"
var pattern8 =  [[_,"b",_,"c"], 6]  
</code></pre>

<pre><code>// matches to an array of length at least 4 beginning with anything
// followed by "b", an anything and ending with "c"
// passes all the content up to "b" into foo
var pattern9 =  [[$,"b",_,"c"], function foo(n){}]  
</code></pre>

<pre><code>// matches to an array of length at least 4 beginning with anything
// followed by "b", an anything and ending with "c"
// passes the content between "b" and "c" into foo
var pattern10 =  [[_,"b",$,"c"], function foo(n){}]  
</code></pre>

<pre><code>// matches to an array of length at least 4 beginning with anything
// followed by "b", an anything and ending with "c"
// passes the content up to "c" into foo (everything except the last)
var pattern11 =  [[$,"c"], function foo(n){}]  
</code></pre>

<pre><code>// matches to an array whose content begins with "a"
// the array has at least 3 elements, the second param.any matches to 
// the second element only and the third param.any matches the rest
// passes everything starting from the third element into foo
var pattern12 = [["a",_,$], function foo(n){}] 
</code></pre>

<pre><code>// matches to an array whose content begins with "a"
// the array has at least 3 elements, the second param.any matches to 
// the second element only and the third param.any matches the rest
// passes the second element into foo 
var pattern13 = [["a",$,_], function foo(n){}] 
</code></pre>

<h3>
<a name="additional-notes" class="anchor" href="#additional-notes"><span class="octicon octicon-link"></span></a>Additional Notes:</h3>

<ul>
<li>Mocky will match an input to the first available pattern, so the order of your patterns matter. </li>
</ul><p>This will always return 1 because the wildcard is matched with all inputs.</p>

<pre><code>var bar = mocky(
       [_ , 1],
       ["a" , //doSomething]
);
</code></pre>

<ul>
<li>At this point, Mocky only takes one parameter. A pattern with multiple <code>mocky.param</code> is not accepted.</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/elai">elai</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>